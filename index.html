<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ãƒ—ãƒ©ãƒãƒƒãƒˆãƒ—ãƒ©ãƒ³ã‚¿ãƒ¼ï¼šè¡—ã¨åˆ†è§£è€…</title>
<style>
  body {
    margin: 0;
    background: radial-gradient(circle at top, #0b1d3a, #000);
    font-family: system-ui, sans-serif;
    color: #eef;
  }

  h1 {
    text-align: center;
    margin: 16px 0 4px;
    letter-spacing: 0.1em;
  }

  .world {
    display: grid;
    grid-template-rows: 1fr 0.7fr;
    height: 90vh;
    max-width: 1000px;
    margin: auto;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 0 40px rgba(0,255,255,0.2);
  }

  /* ä¸Šï¼šè¡— */
  .city {
    background: linear-gradient(#3aaed8, #1b6ca8);
    position: relative;
    padding: 16px;
  }

  .city h2 {
    margin: 0 0 8px;
  }

  .city-buttons button {
    margin: 4px;
    padding: 8px 12px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    background: #fff;
    font-weight: bold;
  }

  .status {
    margin-top: 8px;
    font-size: 14px;
  }

  /* ä¸‹ï¼šåœŸå£Œ */
  .soil {
    background: linear-gradient(#3b2a1a, #1e1208);
    position: relative;
    padding: 16px;
  }

  .soil h2 {
    margin: 0 0 8px;
  }

  .mycelium {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .line {
    position: absolute;
    width: 2px;
    height: 60px;
    background: rgba(0,255,180,0.8);
    animation: pulse 2s infinite;
  }

  .dead {
    background: rgba(120,120,120,0.3);
    animation: none;
  }

  @keyframes pulse {
    0% { opacity: 0.2; }
    50% { opacity: 1; }
    100% { opacity: 0.2; }
  }

  footer {
    text-align: center;
    font-size: 12px;
    opacity: 0.7;
    margin: 4px 0 12px;
  }
</style>
</head>
<body>

<h1>ã“ã®è¡—ã¯ã€åœ°ä¸Šã ã‘ã§ã§ãã¦ã„ãªã„</h1>

<div class="world">
  <!-- è¡— -->
  <div class="city">
    <h2>ğŸŒ† è¡—</h2>
    <div class="city-buttons">
      <button onclick="build('green')">ğŸŒ³ å…¬åœ’ã‚’ä½œã‚‹</button>
      <button onclick="build('road')">ğŸ›£ é“è·¯ã‚’å¢—ã‚„ã™</button>
      <button onclick="build('factory')">ğŸ­ å·¥å ´ã‚’å»ºã¦ã‚‹</button>
    </div>
    <div class="status" id="cityStatus"></div>
  </div>

  <!-- åœŸå£Œ -->
  <div class="soil">
    <h2>ğŸŒ± äºŒå±¤ç›®ï¼šåœŸå£Œï¼ˆåˆ†è§£è€…ï¼‰</h2>
    <div class="status" id="soilStatus"></div>
    <div class="mycelium" id="mycelium"></div>
  </div>
</div>

<footer>
  è¦‹ãˆãªã„å±¤ãŒã€è¦‹ãˆã‚‹ä¸–ç•Œã‚’æ”¯ãˆã¦ã„ã‚‹
</footer>

<script>
  let health = 100;

  const cityStatus = document.getElementById("cityStatus");
  const soilStatus = document.getElementById("soilStatus");
  const mycelium = document.getElementById("mycelium");

  function update() {
    cityStatus.textContent =
      "è¡—ã®å®‰å®šåº¦ï¼š" + Math.max(0, Math.round(health));
    soilStatus.textContent =
      "åˆ†è§£è€…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼š" +
      (health > 70 ? "æ´»ç™º" : health > 40 ? "ä¸å®‰å®š" : "æ–­è£‚ä¸­");

    mycelium.innerHTML = "";
    const lines = Math.max(1, Math.floor(health / 15));
    for (let i = 0; i < lines; i++) {
      const l = document.createElement("div");
      l.className = "line" + (health < 40 ? " dead" : "");
      l.style.left = Math.random() * 100 + "%";
      l.style.top = Math.random() * 100 + "%";
      mycelium.appendChild(l);
    }
  }

  function build(type) {
    if (type === "green") health += 10;
    if (type === "road") health -= 8;
    if (type === "factory") health -= 15;

    health = Math.max(0, Math.min(100, health));
    update();
  }

  update();
</script>

</body>
</html>
